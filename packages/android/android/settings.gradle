// React Native Gradle Plugin for autolinking (RN 0.76+)
// IMPORTANT: pluginManagement must be the first block in settings.gradle
pluginManagement {
    repositories {
        mavenCentral()
        google()
        gradlePluginPortal()
    }

    // Determine node_modules location
    // In CI: workspace root (../../node_modules from android/ folder)
    // Locally: workspace root (../../node_modules from android/ folder)
    def nodeModulesPath = file("../../node_modules").exists() ?
        "../../node_modules" : "../node_modules"

    includeBuild("${nodeModulesPath}/@react-native/gradle-plugin")
}

plugins {
    id("com.facebook.react.settings")
}

rootProject.name = 'TorChat'

// Configure autolinking
extensions.configure(com.facebook.react.ReactSettingsExtension){ ex ->
    ex.autolinkLibrariesFromCommand()
}

// Include the app module
include ':app'
